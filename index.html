<!DOCTYPE html>

<head>
	
	<script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
	<!-- <script type="text/javascript" src="https://d3js.org/d3.v5.min.js"></script> -->

	<link rel="stylesheet" href="barstyle.css">
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
	<script src='jquery.min.js'></script>

	<style type="text/css">

		html, body {
			margin: 0;
			padding: 0;
			background: #111111;
	    }

	    h1{
	    	text-align:center;
	    	color:white;
	    	text-decoration: none;
			font-weight:400;
			text-transform: uppercase;
			font-family: 'Source Code Pro';
			letter-spacing:1.5px;
			font-size:2.2em;
	    }

	    h4{
	    	text-align:center;
	    	color:white;
	    	text-decoration: none;
			font-weight:400;
			text-transform: uppercase;
			font-family: 'Source Code Pro';
			letter-spacing:1.5px;
			font-size:1.2em;
	    }

	    h5{
	    	color:white;
	    	text-decoration: none;
	    	font-weight:100;
			text-transform: uppercase;
			font-family: 'Source Code Pro';
			letter-spacing:1.5px;
			font-size:1em;
	    }

	    header{
	    	padding: 25px;
	    	text-align:center;
	    	color:white;
	    }

	    footer{
	    	padding: 25px;
	    	text-align:center;
	    	color:gray;
			font-family: Arial;
			font-size:0.9em;
	    }

	    #wrapper{
	    	margin-left: 15%;
	    	margin-right: 15%;
	    }

	    #box{
	    	margin-top: 50px;
	    	margin-bottom: 50px;
	    	text-align:center;
	    }

	    #barchart{
	    	/*background: #efefef;*/
	    	height: 300px;
	    	margin-bottom: 30px;
	    }

	    #radar{
	    	/*background: #efefef;*/
	    	height: 650px;
	    	/*width: 800px;*/
	    	margin-bottom: 30px;
	    }

		#left{
			float: left;
		    width: 15%;
		    height: 300px;
		    display: flex;
			justify-content: center;
			overflow: hidden;
		}

		#middle{
			float: left;
			width: 60%;
			height: 300px;
			/*background: #efefef;*/
		}

		#right{
			margin-left: 60%;
			height: 300px;
			/*background: #bfbfbf;*/
		}

		#other{
	    	/* background: #efefef; */
			display: flex;
			align-items: center;
			justify-content: center;
			flex-direction: row;
	    	height: 400px;
	    	width: 800px;
	    	margin-bottom: 30px;
			margin:auto;
		}
		
		#happy_left{
			width: 400px;
			margin: 20px;
		}

		#happy_right{
			width: 400px;
			margin: 20px;
		}

		#country, #happiness, #index{
			text-align:center;
	    	color:white;
	    	text-decoration: none;
		}

		#less{
			float:left;
			color:white;
			width:200px;
			overflow: hidden;
		}

		#more{
			color:white;
			width:200px;
			margin-left: 85%;
		}

		#buttons{
			display: flex;
            justify-content: center; 
            align-items: center;     
            flex-direction: column;
		}

		.button {
			margin:10px;
			padding: 10px 15px;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 14px;

			background-color: #555555;
    		color: white;
		    border: 2px solid #555555;
		}

		.button:hover {
			background-color: white;
		    color: black;
		}

		.custom-select {
			position: relative;
			font-family: Arial;
			font-size: 12px;
			margin-right: 15px;
		}

		.custom-select select {
		  	display: none; /*hide original SELECT element:*/
		}

		#selection {
			margin-bottom: 30px;
		}

		.demo {
			perspective: 1px; 
			padding: 0; 
			height: calc(100vh - 100px); 
			overflow: auto;
		}
		.demo_box {
			height: 2000px;
			transform-style: preserve-3d;
			position: relative;
		}

		.pic {
			position: absolute; 
			top: 75%;
			left: 50%;
			transform: translate3D(-50%, -120px, -1px) scale(1.5);
		}

		.axis {
			fill: none;
			stroke: white;
			shape-rendering: crispEdges;
		}

		.axis path,
		.axis line {
			fill: none;
			stroke: white;
			shape-rendering: crispEdges;
		}

		.dot {
			stroke: black;
			stroke-width: 0.3px;
		}
		.tooltip {
			/* position: absolute; */
			/* display: block; */
			/* float:left; */
			font-size: 14px;
			/* width: auto;
			height: auto; */
			color: white;
			/* pointer-events: none; */
			/* background-color:gray;  */
		}

		#tips{
			margin-top:10px;
			display: flex;
			align-items: center;
			justify-content: center;
			flex-direction: row;
		}

		#tip1{
			margin-left:40px;
			height:50px;
			width:400px;
		}

		#tip2{
			margin-left:40px;
			height:50px;
			width:400px;
		}

		.paragraph{
			color:white;
			font-size: 16px;
			font-family: Helvetica, sans-serif;
			text-align: justify;	
			width: 70%;
			margin-left: 15%;
			letter-spacing: 0.5px;
			word-spacing: 1px;
			line-height:1.5em;
		}

		.paragraph2{
			color:white;
			font-size: 16px;
			font-family: Helvetica, sans-serif;
			text-align: justify;	
			width: 70%;
			margin-left: 15%;
			letter-spacing: 0.5px;
			word-spacing: 1px;
			line-height:1.5em;
		}

		dd{
			width:90%;
			margin-bottom: 1em;
		}

		.paragraph p:first-child::first-letter{
			color: #c69c6d; 
			float: left; 
			font-size: 2.8em; 
			margin: .3em .2em 0 0; 
		}

		a {
			color: hotpink;
			margin-left: 15px;
		}

		a:link {
			text-decoration: none;
		}

		a:visited {
			text-decoration: none;
		}

		a:hover {
			text-decoration: underline;
		}

		a:active {
			text-decoration: underline;
		}


	</style>

</head>


<body>

<header></header>

<div class="demo">
	<div class="demo_box">
		<div class="pic">
			<img src="map6.jpg" class="pic">
		</div>

	<div id="wrapper">
		<h1>World Happiness</h1>

		<div id="box">
			<h4>Introduction</h4>
			<br>
			<div class="paragraph">
				<p>The world has evolved drastically over the course of humanity. With the wealth of resources and the advent of technology
				among many other, humanity as a whole has become more affluent in the past decades. As humanity has progressed and
				become wealthier, and the concern of putting food on the table is less of a concern, there has been a growing demand and
				desire for the wellbeing and happiness level of humans.</p>
				<p>Each year, the United Nations surveys 155 countries of the state of their citizens' happiness levels as a part of their
				annual World Happiness Report. Specifically, the metrics that the UN use to proxy the happiness level are: GDP per
				Capita, Family, Life Expectancy, Freedom, Generosity, Trust, and Government Corruption.</p>
				On top of what the UN uses to measure happiness, our team has incorporated data that unveils the level of social
				progress in relation to happiness: <b>Economy</b> (Economic Sustainability), <b>Government</b> (Government Effectiveness), <b>Health</b>
				(Health Expenditure), <b>Employment</b> (Employment Rate), and <b>Education</b> (School Years).</p>
				<p>Furthermore, we have included various other factors outside of the more intuitive factors that contribute to a country's
				happiness. Through the following four data visualizations, we have aimed to portray the following: </p>
				<dd> (1) Average happiness levels of citizens in each country;</dd>
				<dd> (2) Comparison across each continent's 5 social progress metrics; </dd>
				<dd> (3) The degree of social progress per country, encoding happiness via color; </dd>
				<dd> (4) Other factors such as coffee consumption and urban population percentage that may have a correlation with the level of happiness.</dd>
			</div>
		</div>

		<div id="box">
			<h2>Happiness Score Across Regions</h1>
		</div>

		<div id="barchart">
			<div class="wrap">
				<!-- <div class="holder"> -->
				<div class="bar one" data-percent="6.99"><span class="label second">NORTH AMERICA</span></div>
				<div class="bar two" data-percent="6.23"><span class="label ">SOUTH AMERICA</span></div>
				<div class="bar three" data-percent="6.22"><span class="label second">EUROPE</span></div>
				<div class="bar four" data-percent="5.47"><span class="label ">ASIA &#38; PACIFIC</span></div>
				<div class="bar five" data-percent="5.07"><span class="label second">ARAB STATE</span></div>
				<div class="bar six" data-percent="4.48"><span class="label ">AFRICA</span></div>
			</div>
		</div>

		<div id="box">
			<h2>Social Progress Level Across Regions</h2>
		</div>

		<div id="selection">
			<h5>Select &nbsp;Regions:</h5>
		</div>
		

		<div id="radar"></div>

		<div id="box">
			<h2>Happiness And Social Progress By Country</h2>
		</div>

		<div id="left">
			<div id="buttons">
				<div id = "button1"></div>
				<div id = "button2"></div>
				<div id = "button3"></div>
				<div id = "button4"></div>
				<div id = "button5"></div>
			</div>
		</div>

		
		<div id="middle">
			<div id = "chart3"></div>
			<div id = "less">Lower Happiness Score</div>
			<div id = "more">Higher Happiness Score</div>
		</div>

		<div id="right">
			<div id="country">Country</div>
			<div id="happiness"></div>
			<div id="index"></div>
		</div>

		<div id="box">
			<br>
			<br>
			<h2>Other Factors Influencing Happiness</h2>
		</div>

		<div id="other">
			<div id="happy_left">
				<div id="vis-container"></div>	
			</div>
			<div id="happy_right">
				<div id="vis-container2"></div>
			</div>
		</div>
		
		<div id="tips">
			<div id="tip1"></div>
			<div id="tip2"></div>
		</div>
		

		<div id="box">
			<br>
			<h4>Summary</h4>
			<br>
			<div class="paragraph2">
				<p>
				Through our initial exploratory data analysis as well as the final data visualization, we have discovered that countries in North America has the highest level of happiness score, followed by South America and Europe, nearly tieng as number 2. The continent with the lowest overall happiness score is Africa, where the difference between that of North America is approximately 2.5.
				</p><p>
				Our radial chart is more interactive, allowing the audience to compare the five different metrics of social progress across different continents. Through this second data visualization, the audience can gain further insights beyond what the first data vis can provide, as it allows the audience to see that although Africa and North America are on the opposite ends of the happiness spectrum, they nevertheless have a very small difference in their employment rate. 
				</p><p>
				The third data vis, level of happiness and social progress categorized by country, allows the audience to see the individual countries' place in each metric while also easily tracking their happiness score through an encoded color gradiation. An interesting insight is that Singapore, which ranks 2nd in highest GDP per capita across all nations, ranks 24th in happiness; similarly, Kuwait, ranking 3rd in highest GDP per capita, has a happiness ranking of 39. However, through the color encoding, the audience can easily see an overall pattern of color gradient following the level of social progress; countries encoded with lighter colors are on the right end, while countries encoded with darker colors are on the left end. In other words, high social progress has high happiness.
				</p><p>
				Looking further into the top few countries (Scandinavian countries) that consistently rank the highest in happiness, we have conducted research to understand what the cultural factors that contribute to such extraordinary consistent performance might be. We have gained an insight that many countries in the Scandinavian countries have a culturally mandatory social hour ingrained in their daily lives. For instance, <i>Swede's fika</i> is a time when even at workplaces the employees go out in the middle of the day to take a relaxing coffee and cake break. Thus, we have decided to look into the coffee consumption to see its correlation with happiness. We have also further looked into the connection between social progress and urbanization. More and more countries nowadays have growing urban populations to support the development of their social progress in various aspects such as market growth, education resources, working environment and even healthcare issues. Based on such observation, we were curious to see whether these countries having higher percentages of urban population may also show higher happiness scores since they may be more developed with regard to social progress, and have discovered a positive correlation.
				</p><p>
				Overall, we have come to understanding that happiness is a very nuanced and intricate topic to understand. No set number of factors can directly contribute to a higher happiness level. At the end of the day, we want our audience to leave with an understanding that happiness has multiple complicated factors that play a role into it, and that perhaps what is most important is to have a firm understanding of their definitions of happiness and what factors contribute to their own wellness.
				</p>
			</div>
		</div>

		<div id="box">
			<br>
			<h4>Reference</h4>
			<br>
			<dd>
				<a href="https://www.kaggle.com/unsdsn/world-happiness">Dataset of the world happiness report</a>
			</dd>
			<dd>
				<a href="https://worldhappiness.report/download/">Documents of the world happiness report</a>
			</dd>					
		</div>
	</div>

	<footer>
		Copyright &copy; 2019 ColumbiaDream. All Right Reserved.
	</footer>
	
	</div>
</div>
<footer></footer>
</body>


<script type="text/javascript">
	
	d3.selectAll('#button1').append('button').text('Health').attr("class", "button")
	.attr('value', 'health_expenditure_per_person')
	.classed('d_sel', true)

	d3.selectAll('#button2').append('button').text('Education').attr("class", "button")
	.attr('value', 'school_years')
	.classed('d_sel', true)

	d3.selectAll('#button3').append('button').text('Economy').attr("class", "button")
	.attr('value', 'gdp_per_capita')
	.classed('d_sel', true)

	d3.selectAll('#button4').append('button').text('Employment').attr("class", "button")
	.attr('value', 'employment_rate')
	.classed('d_sel', true)

	d3.selectAll('#button5').append('button').text('Government').attr("class", "button")
	.attr('value', 'government_effectiveness')
	.classed('d_sel', true)

	// var width = 750,
	// 	height = 250

	// var svg = d3.select('#chart').append('svg')
	// 		.attr('width', width)
	// 		.attr('height', height)
	

</script>

<script type="text/javascript" src="chart1.js"></script>
<script type="text/javascript" src="chart2.js"></script>
<script type="text/javascript" src="chart3.js"></script>
<script type="text/javascript" src="coffee.js"></script>
<script type="text/javascript" src="urban.js"></script>


</html>
